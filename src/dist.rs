use utils::{fcmp,Glyph,Iter,approx_equal};

use std::ops::Div;
use std::cmp::Ordering;
use std::cmp::Ordering::{Equal,Greater,Less};
use std::collections::*;
use std::iter::*;
use itertools::Itertools;
use counter::Counter;

type Maybe<T> = Result<T,err::Msg>;

mod err {
    pub type Msg = &'static str;
    pub const PROBABILITY_OUT_OF_BOUNDS:&str =
        "Encountered `probability` less than 0 or greater than 1.";
    pub const INFINITE_SURPRISE:&str = 
        "Encountered infinitely surprising event";
    pub const MATHEMATICAL_PARADOX:&str = 
        "Congratulations, you have broken mathematics.";
    pub const MALFORMED_SURPRISE_CMP:&str =
        "Attempted comparison of malformed surprises.";
}


//Rust's support for newtype ergonomics isn't complete. Some things you get
//For free, and others you need to implement. Forgive this kludginess.
type _Prob = f64;

#[derive(Add,Mul,AddAssign,MulAssign,Debug,Display,From,Clone,Copy,Into)]
pub struct Prob(pub _Prob);
impl Prob {
    fn surprise(self) -> Maybe<f64> {
        let p = self.val();
        match (fcmp(p,0.0), fcmp(p,1.0)) {
            (Less,Less)|(Greater,Greater) => 
                Err(err::PROBABILITY_OUT_OF_BOUNDS),
            (Equal,Less) => 
                Err(err::INFINITE_SURPRISE),
            (Greater,Less)|(Greater,Equal) =>
                Ok(p.recip().log(2.0)),
            _ =>
                Err(err::MATHEMATICAL_PARADOX)
        }
    }
}

trait GetUnderlying<T> {
    fn val(&self) -> T;
}
impl GetUnderlying<_Prob> for Prob {
    fn val(&self) -> _Prob {
        self.0
    }
}

//Completes impl Vector for Prob
impl Div<f64> for Prob {
    type Output = Self;
    fn div(self, other:f64) -> Self {
        Prob(self.val() / other)
    }
}

pub fn binomial_p_estimate(trials:usize, successes:usize) -> Prob {
    let zval = 1.96; //z value for 95% confidence interval
    let naive_p = successes as f64 / trials as f64;
    Prob(
        naive_p 
        -zval 
        *(
            (
                (naive_p * (1.0-naive_p))
                /(trials as f64)
            ).sqrt()
        )
    )
}


trait Pow<T> {
    fn pow(&self,other:T) -> Self;
}
impl Pow<f64> for Prob {
    fn pow(&self,other:_Prob) -> Prob {
        Prob(self.val().powf(other))
    }
}



pub trait Distribution<T:Glyph> {
    fn probabilities(&self) -> &HashMap<T,Prob>;

    fn space_size(&self) -> usize {
        self.probabilities().len()
    }

    fn get(&self, key:&T) -> Prob {
        *self.probabilities()
        .get(key)
        .unwrap_or(&Prob(0.0))
    }

    fn approx_kappa(&self) -> f64 {
        self.probabilities()
        .iter()
        .map(|(_,p)| p.pow(2.0).val())
        .sum()
    }

    fn surprise(&self, events:&[T]) -> Maybe<f64> {
        events
        .iter()
        .map(|e| self.get(e).surprise())
        .fold_results(0.0, |s1,s2| s1+s2)
    }

    fn entropy(&self) -> Maybe<f64> {
        self.probabilities()
        .iter()
        .map(|(_,&p)| 
            if approx_equal(p,Prob(0.0)) {
                Ok(0.0)
            } else {
                p.surprise().map(|s| p.val()*s)
            }
        ).fold_results(0.0, |s1,s2| s1+s2)
    }

    fn redundancy(&self) -> Maybe<f64> {
        self.entropy().map(|e| (self.space_size() as f64).log(2.0) - e)
    }

    fn display(&self) -> String {
        let p_disp = |(i,p):(&T,&Prob)| format!("Item '{}' with probability {}", i, p);
        let items = self.probabilities().iter().map(p_disp);
        once(String::from("Distribution {"))
        .chain(items)
        .intersperse(String::from("\n"))
        .chain(once(String::from("}")))
        .collect()
    }


}

pub fn kappa<'a,T:'a,IT>(v:&IT) -> f64 
where T:    Glyph,
      IT:   Iter<&'a T>
{
    let pairs = |x:usize| (x*(x-1))/2;
    let counts:Counter<T> = 
        v
        .clone() //don't want to exhaust by computing kappa
        .cloned() //else we get a Counter<&T>
        .collect();
    let (samples,coincidences):(usize,usize) =
        counts
        .iter()
        .fold((0,0), |(s,o),(_,n)| (s+n, o+pairs(*n)));
    let opportunities:usize = pairs(samples);
    match opportunities {
        0 => f64::from(0), //fair enough value for this edge case
        _ => coincidences as f64 / opportunities as f64
    }
}



pub fn surprisecmp(sup1:&Maybe<f64>,sup2:&Maybe<f64>) 
-> Ordering {
    use self::err::{INFINITE_SURPRISE, MALFORMED_SURPRISE_CMP};
    match (sup1,sup2) {
        (Ok(x1), Ok(x2)) => fcmp(*x1,*x2),
        (Err(INFINITE_SURPRISE), Ok(_x2)) => Greater,
        (Ok(_x1), Err(INFINITE_SURPRISE)) => Less,
        (Err(INFINITE_SURPRISE), Err(INFINITE_SURPRISE)) => Equal,
        _ => panic!(MALFORMED_SURPRISE_CMP) 
    }
}

//Maybe impl these as From<T> trait?


pub fn from<T:Glyph>(v:&[(T,Prob)]) -> impl Distribution<T> {
    _Distribution {
        probabilities : v.into_iter().cloned().collect::<HashMap<T,Prob>>()
    }
}

pub fn from_sample<T:Glyph>(v:&[T]) -> impl Distribution<T> {
    from( 
        &v
        .iter()
        .cloned() //else we get a Counter<&T>
        .collect::<Counter<T>>()
        .most_common_ordered()
        .into_iter()
        .map(|(x,count)| (
            x,
            Prob(count as f64 / v.len() as f64)
        )).collect::<Vec<(T,Prob)>>()
    )
}

pub fn uniform<T: Glyph>(v:&[T]) -> impl Distribution<T> {
    let p = Prob((v.len() as f64).recip());
    from(&v.iter().cloned().zip(repeat(p)).collect::<Vec<(T,Prob)>>())
}

struct _Distribution<T> where T: Glyph {
    probabilities : HashMap<T,Prob>
}

impl<T> Distribution<T> for _Distribution<T> where T: Glyph {
    fn probabilities(&self) -> &HashMap<T,Prob> {
        &self.probabilities
    }
}

pub mod known {
    use dist::Prob;

    pub const HEX:[(u8,Prob);256] = [
        (b'0', Prob(0.045455)),
        (b'1', Prob(0.045455)),
        (b'2', Prob(0.045455)),
        (b'3', Prob(0.045455)),
        (b'4', Prob(0.045455)),
        (b'5', Prob(0.045455)),
        (b'6', Prob(0.045455)),
        (b'7', Prob(0.045455)),
        (b'8', Prob(0.045455)),
        (b'9', Prob(0.045455)),
        (b'a', Prob(0.045455)),
        (b'b', Prob(0.045455)),
        (b'c', Prob(0.045455)),
        (b'd', Prob(0.045455)),
        (b'e', Prob(0.045455)),
        (b'f', Prob(0.045455)),
        (b'A', Prob(0.045455)),
        (b'B', Prob(0.045455)),
        (b'C', Prob(0.045455)),
        (b'D', Prob(0.045455)),
        (b'E', Prob(0.045455)),
        (b'F', Prob(0.045455)),
        (b'\x00', Prob(0.000000)),
        (b'\x01', Prob(0.000000)),
        (b'\x02', Prob(0.000000)),
        (b'\x03', Prob(0.000000)),
        (b'\x04', Prob(0.000000)),
        (b'\x05', Prob(0.000000)),
        (b'\x06', Prob(0.000000)),
        (b'\x07', Prob(0.000000)),
        (b'\x08', Prob(0.000000)),
        (b'\x09', Prob(0.000000)),
        (b'\x0a', Prob(0.000000)),
        (b'\x0b', Prob(0.000000)),
        (b'\x0c', Prob(0.000000)),
        (b'\x0d', Prob(0.000000)),
        (b'\x0e', Prob(0.000000)),
        (b'\x0f', Prob(0.000000)),
        (b'\x10', Prob(0.000000)),
        (b'\x11', Prob(0.000000)),
        (b'\x12', Prob(0.000000)),
        (b'\x13', Prob(0.000000)),
        (b'\x14', Prob(0.000000)),
        (b'\x15', Prob(0.000000)),
        (b'\x16', Prob(0.000000)),
        (b'\x17', Prob(0.000000)),
        (b'\x18', Prob(0.000000)),
        (b'\x19', Prob(0.000000)),
        (b'\x1a', Prob(0.000000)),
        (b'\x1b', Prob(0.000000)),
        (b'\x1c', Prob(0.000000)),
        (b'\x1d', Prob(0.000000)),
        (b'\x1e', Prob(0.000000)),
        (b'\x1f', Prob(0.000000)),
        (b'\x20', Prob(0.000000)),
        (b'!', Prob(0.000000)),
        (b'"', Prob(0.000000)),
        (b'#', Prob(0.000000)),
        (b'$', Prob(0.000000)),
        (b'%', Prob(0.000000)),
        (b'&', Prob(0.000000)),
        (b'\'', Prob(0.000000)),
        (b'(', Prob(0.000000)),
        (b')', Prob(0.000000)),
        (b'*', Prob(0.000000)),
        (b'+', Prob(0.000000)),
        (b',', Prob(0.000000)),
        (b'-', Prob(0.000000)),
        (b'.', Prob(0.000000)),
        (b'/', Prob(0.000000)),
        (b':', Prob(0.000000)),
        (b';', Prob(0.000000)),
        (b'<', Prob(0.000000)),
        (b'=', Prob(0.000000)),
        (b'>', Prob(0.000000)),
        (b'?', Prob(0.000000)),
        (b'@', Prob(0.000000)),
        (b'G', Prob(0.000000)),
        (b'H', Prob(0.000000)),
        (b'I', Prob(0.000000)),
        (b'J', Prob(0.000000)),
        (b'K', Prob(0.000000)),
        (b'L', Prob(0.000000)),
        (b'M', Prob(0.000000)),
        (b'N', Prob(0.000000)),
        (b'O', Prob(0.000000)),
        (b'P', Prob(0.000000)),
        (b'Q', Prob(0.000000)),
        (b'R', Prob(0.000000)),
        (b'S', Prob(0.000000)),
        (b'T', Prob(0.000000)),
        (b'U', Prob(0.000000)),
        (b'V', Prob(0.000000)),
        (b'W', Prob(0.000000)),
        (b'X', Prob(0.000000)),
        (b'Y', Prob(0.000000)),
        (b'Z', Prob(0.000000)),
        (b'[', Prob(0.000000)),
        (b'\\', Prob(0.000000)),
        (b']', Prob(0.000000)),
        (b'^', Prob(0.000000)),
        (b'_', Prob(0.000000)),
        (b'`', Prob(0.000000)),
        (b'g', Prob(0.000000)),
        (b'h', Prob(0.000000)),
        (b'i', Prob(0.000000)),
        (b'j', Prob(0.000000)),
        (b'k', Prob(0.000000)),
        (b'l', Prob(0.000000)),
        (b'm', Prob(0.000000)),
        (b'n', Prob(0.000000)),
        (b'o', Prob(0.000000)),
        (b'p', Prob(0.000000)),
        (b'q', Prob(0.000000)),
        (b'r', Prob(0.000000)),
        (b's', Prob(0.000000)),
        (b't', Prob(0.000000)),
        (b'u', Prob(0.000000)),
        (b'v', Prob(0.000000)),
        (b'w', Prob(0.000000)),
        (b'x', Prob(0.000000)),
        (b'y', Prob(0.000000)),
        (b'z', Prob(0.000000)),
        (b'{', Prob(0.000000)),
        (b'|', Prob(0.000000)),
        (b'}', Prob(0.000000)),
        (b'~', Prob(0.000000)),
        (b'\x7f', Prob(0.000000)),
        (b'\x80', Prob(0.000000)),
        (b'\x81', Prob(0.000000)),
        (b'\x82', Prob(0.000000)),
        (b'\x83', Prob(0.000000)),
        (b'\x84', Prob(0.000000)),
        (b'\x85', Prob(0.000000)),
        (b'\x86', Prob(0.000000)),
        (b'\x87', Prob(0.000000)),
        (b'\x88', Prob(0.000000)),
        (b'\x89', Prob(0.000000)),
        (b'\x8a', Prob(0.000000)),
        (b'\x8b', Prob(0.000000)),
        (b'\x8c', Prob(0.000000)),
        (b'\x8d', Prob(0.000000)),
        (b'\x8e', Prob(0.000000)),
        (b'\x8f', Prob(0.000000)),
        (b'\x90', Prob(0.000000)),
        (b'\x91', Prob(0.000000)),
        (b'\x92', Prob(0.000000)),
        (b'\x93', Prob(0.000000)),
        (b'\x94', Prob(0.000000)),
        (b'\x95', Prob(0.000000)),
        (b'\x96', Prob(0.000000)),
        (b'\x97', Prob(0.000000)),
        (b'\x98', Prob(0.000000)),
        (b'\x99', Prob(0.000000)),
        (b'\x9a', Prob(0.000000)),
        (b'\x9b', Prob(0.000000)),
        (b'\x9c', Prob(0.000000)),
        (b'\x9d', Prob(0.000000)),
        (b'\x9e', Prob(0.000000)),
        (b'\x9f', Prob(0.000000)),
        (b'\xa0', Prob(0.000000)),
        (b'\xa1', Prob(0.000000)),
        (b'\xa2', Prob(0.000000)),
        (b'\xa3', Prob(0.000000)),
        (b'\xa4', Prob(0.000000)),
        (b'\xa5', Prob(0.000000)),
        (b'\xa6', Prob(0.000000)),
        (b'\xa7', Prob(0.000000)),
        (b'\xa8', Prob(0.000000)),
        (b'\xa9', Prob(0.000000)),
        (b'\xaa', Prob(0.000000)),
        (b'\xab', Prob(0.000000)),
        (b'\xac', Prob(0.000000)),
        (b'\xad', Prob(0.000000)),
        (b'\xae', Prob(0.000000)),
        (b'\xaf', Prob(0.000000)),
        (b'\xb0', Prob(0.000000)),
        (b'\xb1', Prob(0.000000)),
        (b'\xb2', Prob(0.000000)),
        (b'\xb3', Prob(0.000000)),
        (b'\xb4', Prob(0.000000)),
        (b'\xb5', Prob(0.000000)),
        (b'\xb6', Prob(0.000000)),
        (b'\xb7', Prob(0.000000)),
        (b'\xb8', Prob(0.000000)),
        (b'\xb9', Prob(0.000000)),
        (b'\xba', Prob(0.000000)),
        (b'\xbb', Prob(0.000000)),
        (b'\xbc', Prob(0.000000)),
        (b'\xbd', Prob(0.000000)),
        (b'\xbe', Prob(0.000000)),
        (b'\xbf', Prob(0.000000)),
        (b'\xc0', Prob(0.000000)),
        (b'\xc1', Prob(0.000000)),
        (b'\xc2', Prob(0.000000)),
        (b'\xc3', Prob(0.000000)),
        (b'\xc4', Prob(0.000000)),
        (b'\xc5', Prob(0.000000)),
        (b'\xc6', Prob(0.000000)),
        (b'\xc7', Prob(0.000000)),
        (b'\xc8', Prob(0.000000)),
        (b'\xc9', Prob(0.000000)),
        (b'\xca', Prob(0.000000)),
        (b'\xcb', Prob(0.000000)),
        (b'\xcc', Prob(0.000000)),
        (b'\xcd', Prob(0.000000)),
        (b'\xce', Prob(0.000000)),
        (b'\xcf', Prob(0.000000)),
        (b'\xd0', Prob(0.000000)),
        (b'\xd1', Prob(0.000000)),
        (b'\xd2', Prob(0.000000)),
        (b'\xd3', Prob(0.000000)),
        (b'\xd4', Prob(0.000000)),
        (b'\xd5', Prob(0.000000)),
        (b'\xd6', Prob(0.000000)),
        (b'\xd7', Prob(0.000000)),
        (b'\xd8', Prob(0.000000)),
        (b'\xd9', Prob(0.000000)),
        (b'\xda', Prob(0.000000)),
        (b'\xdb', Prob(0.000000)),
        (b'\xdc', Prob(0.000000)),
        (b'\xdd', Prob(0.000000)),
        (b'\xde', Prob(0.000000)),
        (b'\xdf', Prob(0.000000)),
        (b'\xe0', Prob(0.000000)),
        (b'\xe1', Prob(0.000000)),
        (b'\xe2', Prob(0.000000)),
        (b'\xe3', Prob(0.000000)),
        (b'\xe4', Prob(0.000000)),
        (b'\xe5', Prob(0.000000)),
        (b'\xe6', Prob(0.000000)),
        (b'\xe7', Prob(0.000000)),
        (b'\xe8', Prob(0.000000)),
        (b'\xe9', Prob(0.000000)),
        (b'\xea', Prob(0.000000)),
        (b'\xeb', Prob(0.000000)),
        (b'\xec', Prob(0.000000)),
        (b'\xed', Prob(0.000000)),
        (b'\xee', Prob(0.000000)),
        (b'\xef', Prob(0.000000)),
        (b'\xf0', Prob(0.000000)),
        (b'\xf1', Prob(0.000000)),
        (b'\xf2', Prob(0.000000)),
        (b'\xf3', Prob(0.000000)),
        (b'\xf4', Prob(0.000000)),
        (b'\xf5', Prob(0.000000)),
        (b'\xf6', Prob(0.000000)),
        (b'\xf7', Prob(0.000000)),
        (b'\xf8', Prob(0.000000)),
        (b'\xf9', Prob(0.000000)),
        (b'\xfa', Prob(0.000000)),
        (b'\xfb', Prob(0.000000)),
        (b'\xfc', Prob(0.000000)),
        (b'\xfd', Prob(0.000000)),
        (b'\xfe', Prob(0.000000)),
        (b'\xff', Prob(0.000000)),
    ];

    pub const BASE64:[(u8,Prob);256] = [
        (b'A', Prob(0.015625)),
        (b'B', Prob(0.015625)),
        (b'C', Prob(0.015625)),
        (b'D', Prob(0.015625)),
        (b'E', Prob(0.015625)),
        (b'F', Prob(0.015625)),
        (b'G', Prob(0.015625)),
        (b'H', Prob(0.015625)),
        (b'I', Prob(0.015625)),
        (b'J', Prob(0.015625)),
        (b'K', Prob(0.015625)),
        (b'L', Prob(0.015625)),
        (b'M', Prob(0.015625)),
        (b'N', Prob(0.015625)),
        (b'O', Prob(0.015625)),
        (b'P', Prob(0.015625)),
        (b'Q', Prob(0.015625)),
        (b'R', Prob(0.015625)),
        (b'S', Prob(0.015625)),
        (b'T', Prob(0.015625)),
        (b'U', Prob(0.015625)),
        (b'V', Prob(0.015625)),
        (b'W', Prob(0.015625)),
        (b'X', Prob(0.015625)),
        (b'Y', Prob(0.015625)),
        (b'Z', Prob(0.015625)),
        (b'a', Prob(0.015625)),
        (b'b', Prob(0.015625)),
        (b'c', Prob(0.015625)),
        (b'd', Prob(0.015625)),
        (b'e', Prob(0.015625)),
        (b'f', Prob(0.015625)),
        (b'g', Prob(0.015625)),
        (b'h', Prob(0.015625)),
        (b'i', Prob(0.015625)),
        (b'j', Prob(0.015625)),
        (b'k', Prob(0.015625)),
        (b'l', Prob(0.015625)),
        (b'm', Prob(0.015625)),
        (b'n', Prob(0.015625)),
        (b'o', Prob(0.015625)),
        (b'p', Prob(0.015625)),
        (b'q', Prob(0.015625)),
        (b'r', Prob(0.015625)),
        (b's', Prob(0.015625)),
        (b't', Prob(0.015625)),
        (b'u', Prob(0.015625)),
        (b'v', Prob(0.015625)),
        (b'w', Prob(0.015625)),
        (b'x', Prob(0.015625)),
        (b'y', Prob(0.015625)),
        (b'z', Prob(0.015625)),
        (b'0', Prob(0.015625)),
        (b'1', Prob(0.015625)),
        (b'2', Prob(0.015625)),
        (b'3', Prob(0.015625)),
        (b'4', Prob(0.015625)),
        (b'5', Prob(0.015625)),
        (b'6', Prob(0.015625)),
        (b'7', Prob(0.015625)),
        (b'8', Prob(0.015625)),
        (b'9', Prob(0.015625)),
        (b'/', Prob(0.015625)),
        (b'+', Prob(0.015625)),
        (b'\x00', Prob(0.000000)),
        (b'\x01', Prob(0.000000)),
        (b'\x02', Prob(0.000000)),
        (b'\x03', Prob(0.000000)),
        (b'\x04', Prob(0.000000)),
        (b'\x05', Prob(0.000000)),
        (b'\x06', Prob(0.000000)),
        (b'\x07', Prob(0.000000)),
        (b'\x08', Prob(0.000000)),
        (b'\x09', Prob(0.000000)),
        (b'\x0a', Prob(0.000000)),
        (b'\x0b', Prob(0.000000)),
        (b'\x0c', Prob(0.000000)),
        (b'\x0d', Prob(0.000000)),
        (b'\x0e', Prob(0.000000)),
        (b'\x0f', Prob(0.000000)),
        (b'\x10', Prob(0.000000)),
        (b'\x11', Prob(0.000000)),
        (b'\x12', Prob(0.000000)),
        (b'\x13', Prob(0.000000)),
        (b'\x14', Prob(0.000000)),
        (b'\x15', Prob(0.000000)),
        (b'\x16', Prob(0.000000)),
        (b'\x17', Prob(0.000000)),
        (b'\x18', Prob(0.000000)),
        (b'\x19', Prob(0.000000)),
        (b'\x1a', Prob(0.000000)),
        (b'\x1b', Prob(0.000000)),
        (b'\x1c', Prob(0.000000)),
        (b'\x1d', Prob(0.000000)),
        (b'\x1e', Prob(0.000000)),
        (b'\x1f', Prob(0.000000)),
        (b'\x20', Prob(0.000000)),
        (b'!', Prob(0.000000)),
        (b'"', Prob(0.000000)),
        (b'#', Prob(0.000000)),
        (b'$', Prob(0.000000)),
        (b'%', Prob(0.000000)),
        (b'&', Prob(0.000000)),
        (b'\'', Prob(0.000000)),
        (b'(', Prob(0.000000)),
        (b')', Prob(0.000000)),
        (b'*', Prob(0.000000)),
        (b',', Prob(0.000000)),
        (b'-', Prob(0.000000)),
        (b'.', Prob(0.000000)),
        (b':', Prob(0.000000)),
        (b';', Prob(0.000000)),
        (b'<', Prob(0.000000)),
        (b'=', Prob(0.000000)),
        (b'>', Prob(0.000000)),
        (b'?', Prob(0.000000)),
        (b'@', Prob(0.000000)),
        (b'[', Prob(0.000000)),
        (b'\\', Prob(0.000000)),
        (b']', Prob(0.000000)),
        (b'^', Prob(0.000000)),
        (b'_', Prob(0.000000)),
        (b'`', Prob(0.000000)),
        (b'{', Prob(0.000000)),
        (b'|', Prob(0.000000)),
        (b'}', Prob(0.000000)),
        (b'~', Prob(0.000000)),
        (b'\x7f', Prob(0.000000)),
        (b'\x80', Prob(0.000000)),
        (b'\x81', Prob(0.000000)),
        (b'\x82', Prob(0.000000)),
        (b'\x83', Prob(0.000000)),
        (b'\x84', Prob(0.000000)),
        (b'\x85', Prob(0.000000)),
        (b'\x86', Prob(0.000000)),
        (b'\x87', Prob(0.000000)),
        (b'\x88', Prob(0.000000)),
        (b'\x89', Prob(0.000000)),
        (b'\x8a', Prob(0.000000)),
        (b'\x8b', Prob(0.000000)),
        (b'\x8c', Prob(0.000000)),
        (b'\x8d', Prob(0.000000)),
        (b'\x8e', Prob(0.000000)),
        (b'\x8f', Prob(0.000000)),
        (b'\x90', Prob(0.000000)),
        (b'\x91', Prob(0.000000)),
        (b'\x92', Prob(0.000000)),
        (b'\x93', Prob(0.000000)),
        (b'\x94', Prob(0.000000)),
        (b'\x95', Prob(0.000000)),
        (b'\x96', Prob(0.000000)),
        (b'\x97', Prob(0.000000)),
        (b'\x98', Prob(0.000000)),
        (b'\x99', Prob(0.000000)),
        (b'\x9a', Prob(0.000000)),
        (b'\x9b', Prob(0.000000)),
        (b'\x9c', Prob(0.000000)),
        (b'\x9d', Prob(0.000000)),
        (b'\x9e', Prob(0.000000)),
        (b'\x9f', Prob(0.000000)),
        (b'\xa0', Prob(0.000000)),
        (b'\xa1', Prob(0.000000)),
        (b'\xa2', Prob(0.000000)),
        (b'\xa3', Prob(0.000000)),
        (b'\xa4', Prob(0.000000)),
        (b'\xa5', Prob(0.000000)),
        (b'\xa6', Prob(0.000000)),
        (b'\xa7', Prob(0.000000)),
        (b'\xa8', Prob(0.000000)),
        (b'\xa9', Prob(0.000000)),
        (b'\xaa', Prob(0.000000)),
        (b'\xab', Prob(0.000000)),
        (b'\xac', Prob(0.000000)),
        (b'\xad', Prob(0.000000)),
        (b'\xae', Prob(0.000000)),
        (b'\xaf', Prob(0.000000)),
        (b'\xb0', Prob(0.000000)),
        (b'\xb1', Prob(0.000000)),
        (b'\xb2', Prob(0.000000)),
        (b'\xb3', Prob(0.000000)),
        (b'\xb4', Prob(0.000000)),
        (b'\xb5', Prob(0.000000)),
        (b'\xb6', Prob(0.000000)),
        (b'\xb7', Prob(0.000000)),
        (b'\xb8', Prob(0.000000)),
        (b'\xb9', Prob(0.000000)),
        (b'\xba', Prob(0.000000)),
        (b'\xbb', Prob(0.000000)),
        (b'\xbc', Prob(0.000000)),
        (b'\xbd', Prob(0.000000)),
        (b'\xbe', Prob(0.000000)),
        (b'\xbf', Prob(0.000000)),
        (b'\xc0', Prob(0.000000)),
        (b'\xc1', Prob(0.000000)),
        (b'\xc2', Prob(0.000000)),
        (b'\xc3', Prob(0.000000)),
        (b'\xc4', Prob(0.000000)),
        (b'\xc5', Prob(0.000000)),
        (b'\xc6', Prob(0.000000)),
        (b'\xc7', Prob(0.000000)),
        (b'\xc8', Prob(0.000000)),
        (b'\xc9', Prob(0.000000)),
        (b'\xca', Prob(0.000000)),
        (b'\xcb', Prob(0.000000)),
        (b'\xcc', Prob(0.000000)),
        (b'\xcd', Prob(0.000000)),
        (b'\xce', Prob(0.000000)),
        (b'\xcf', Prob(0.000000)),
        (b'\xd0', Prob(0.000000)),
        (b'\xd1', Prob(0.000000)),
        (b'\xd2', Prob(0.000000)),
        (b'\xd3', Prob(0.000000)),
        (b'\xd4', Prob(0.000000)),
        (b'\xd5', Prob(0.000000)),
        (b'\xd6', Prob(0.000000)),
        (b'\xd7', Prob(0.000000)),
        (b'\xd8', Prob(0.000000)),
        (b'\xd9', Prob(0.000000)),
        (b'\xda', Prob(0.000000)),
        (b'\xdb', Prob(0.000000)),
        (b'\xdc', Prob(0.000000)),
        (b'\xdd', Prob(0.000000)),
        (b'\xde', Prob(0.000000)),
        (b'\xdf', Prob(0.000000)),
        (b'\xe0', Prob(0.000000)),
        (b'\xe1', Prob(0.000000)),
        (b'\xe2', Prob(0.000000)),
        (b'\xe3', Prob(0.000000)),
        (b'\xe4', Prob(0.000000)),
        (b'\xe5', Prob(0.000000)),
        (b'\xe6', Prob(0.000000)),
        (b'\xe7', Prob(0.000000)),
        (b'\xe8', Prob(0.000000)),
        (b'\xe9', Prob(0.000000)),
        (b'\xea', Prob(0.000000)),
        (b'\xeb', Prob(0.000000)),
        (b'\xec', Prob(0.000000)),
        (b'\xed', Prob(0.000000)),
        (b'\xee', Prob(0.000000)),
        (b'\xef', Prob(0.000000)),
        (b'\xf0', Prob(0.000000)),
        (b'\xf1', Prob(0.000000)),
        (b'\xf2', Prob(0.000000)),
        (b'\xf3', Prob(0.000000)),
        (b'\xf4', Prob(0.000000)),
        (b'\xf5', Prob(0.000000)),
        (b'\xf6', Prob(0.000000)),
        (b'\xf7', Prob(0.000000)),
        (b'\xf8', Prob(0.000000)),
        (b'\xf9', Prob(0.000000)),
        (b'\xfa', Prob(0.000000)),
        (b'\xfb', Prob(0.000000)),
        (b'\xfc', Prob(0.000000)),
        (b'\xfd', Prob(0.000000)),
        (b'\xfe', Prob(0.000000)),
        (b'\xff', Prob(0.000000)),
    ];

    pub const SHAKESPEARE:[(u8,Prob);256] = [
        (b'\x20', Prob(0.237062)),
        (b'e', Prob(0.074131)),
        (b't', Prob(0.053126)),
        (b'o', Prob(0.051554)),
        (b'a', Prob(0.044825)),
        (b'h', Prob(0.040014)),
        (b'n', Prob(0.039560)),
        (b's', Prob(0.039386)),
        (b'r', Prob(0.038272)),
        (b'i', Prob(0.036309)),
        (b'l', Prob(0.026778)),
        (b'd', Prob(0.024510)),
        (b'\x0a', Prob(0.022802)),
        (b'u', Prob(0.021036)),
        (b'm', Prob(0.017511)),
        (b'y', Prob(0.015623)),
        (b',', Prob(0.015238)),
        (b'.', Prob(0.014295)),
        (b'w', Prob(0.013355)),
        (b'f', Prob(0.012605)),
        (b'c', Prob(0.012218)),
        (b'g', Prob(0.010449)),
        (b'I', Prob(0.010224)),
        (b'b', Prob(0.008527)),
        (b'p', Prob(0.008524)),
        (b'A', Prob(0.008150)),
        (b'E', Prob(0.007802)),
        (b'T', Prob(0.007292)),
        (b'S', Prob(0.006231)),
        (b'v', Prob(0.006227)),
        (b'O', Prob(0.006084)),
        (b'\'', Prob(0.005692)),
        (b'k', Prob(0.005352)),
        (b'R', Prob(0.005308)),
        (b'N', Prob(0.005009)),
        (b'L', Prob(0.004371)),
        (b'C', Prob(0.003938)),
        (b'H', Prob(0.003382)),
        (b';', Prob(0.003151)),
        (b'W', Prob(0.003022)),
        (b'M', Prob(0.002908)),
        (b'D', Prob(0.002873)),
        (b'B', Prob(0.002824)),
        (b'U', Prob(0.002589)),
        (b'P', Prob(0.002187)),
        (b'F', Prob(0.002146)),
        (b'G', Prob(0.002045)),
        (b'?', Prob(0.001919)),
        (b'Y', Prob(0.001667)),
        (b'!', Prob(0.001620)),
        (b'-', Prob(0.001479)),
        (b'K', Prob(0.001135)),
        (b'x', Prob(0.000859)),
        (b'V', Prob(0.000656)),
        (b'j', Prob(0.000497)),
        (b'q', Prob(0.000440)),
        (b'[', Prob(0.000382)),
        (b']', Prob(0.000381)),
        (b'J', Prob(0.000379)),
        (b':', Prob(0.000335)),
        (b'Q', Prob(0.000216)),
        (b'z', Prob(0.000201)),
        (b'9', Prob(0.000174)),
        (b'1', Prob(0.000170)),
        (b')', Prob(0.000115)),
        (b'(', Prob(0.000115)),
        (b'X', Prob(0.000111)),
        (b'Z', Prob(0.000097)),
        (b'"', Prob(0.000086)),
        (b'<', Prob(0.000086)),
        (b'>', Prob(0.000081)),
        (b'2', Prob(0.000067)),
        (b'3', Prob(0.000060)),
        (b'0', Prob(0.000055)),
        (b'4', Prob(0.000017)),
        (b'5', Prob(0.000015)),
        (b'_', Prob(0.000013)),
        (b'*', Prob(0.000012)),
        (b'6', Prob(0.000012)),
        (b'7', Prob(0.000008)),
        (b'8', Prob(0.000007)),
        (b'|', Prob(0.000006)),
        (b'&', Prob(0.000004)),
        (b'@', Prob(0.000001)),
        (b'/', Prob(0.000001)),
        (b'}', Prob(0.000000)),
        (b'`', Prob(0.000000)),
        (b'#', Prob(0.000000)),
        (b'~', Prob(0.000000)),
        (b'%', Prob(0.000000)),
        (b'=', Prob(0.000000)),
        (b'\x00', Prob(0.000000)),
        (b'\x01', Prob(0.000000)),
        (b'\x02', Prob(0.000000)),
        (b'\x03', Prob(0.000000)),
        (b'\x04', Prob(0.000000)),
        (b'\x05', Prob(0.000000)),
        (b'\x06', Prob(0.000000)),
        (b'\x07', Prob(0.000000)),
        (b'\x08', Prob(0.000000)),
        (b'\x09', Prob(0.000000)),
        (b'\x0b', Prob(0.000000)),
        (b'\x0c', Prob(0.000000)),
        (b'\x0d', Prob(0.000000)),
        (b'\x0e', Prob(0.000000)),
        (b'\x0f', Prob(0.000000)),
        (b'\x10', Prob(0.000000)),
        (b'\x11', Prob(0.000000)),
        (b'\x12', Prob(0.000000)),
        (b'\x13', Prob(0.000000)),
        (b'\x14', Prob(0.000000)),
        (b'\x15', Prob(0.000000)),
        (b'\x16', Prob(0.000000)),
        (b'\x17', Prob(0.000000)),
        (b'\x18', Prob(0.000000)),
        (b'\x19', Prob(0.000000)),
        (b'\x1a', Prob(0.000000)),
        (b'\x1b', Prob(0.000000)),
        (b'\x1c', Prob(0.000000)),
        (b'\x1d', Prob(0.000000)),
        (b'\x1e', Prob(0.000000)),
        (b'\x1f', Prob(0.000000)),
        (b'$', Prob(0.000000)),
        (b'+', Prob(0.000000)),
        (b'\\', Prob(0.000000)),
        (b'^', Prob(0.000000)),
        (b'{', Prob(0.000000)),
        (b'\x7f', Prob(0.000000)),
        (b'\x80', Prob(0.000000)),
        (b'\x81', Prob(0.000000)),
        (b'\x82', Prob(0.000000)),
        (b'\x83', Prob(0.000000)),
        (b'\x84', Prob(0.000000)),
        (b'\x85', Prob(0.000000)),
        (b'\x86', Prob(0.000000)),
        (b'\x87', Prob(0.000000)),
        (b'\x88', Prob(0.000000)),
        (b'\x89', Prob(0.000000)),
        (b'\x8a', Prob(0.000000)),
        (b'\x8b', Prob(0.000000)),
        (b'\x8c', Prob(0.000000)),
        (b'\x8d', Prob(0.000000)),
        (b'\x8e', Prob(0.000000)),
        (b'\x8f', Prob(0.000000)),
        (b'\x90', Prob(0.000000)),
        (b'\x91', Prob(0.000000)),
        (b'\x92', Prob(0.000000)),
        (b'\x93', Prob(0.000000)),
        (b'\x94', Prob(0.000000)),
        (b'\x95', Prob(0.000000)),
        (b'\x96', Prob(0.000000)),
        (b'\x97', Prob(0.000000)),
        (b'\x98', Prob(0.000000)),
        (b'\x99', Prob(0.000000)),
        (b'\x9a', Prob(0.000000)),
        (b'\x9b', Prob(0.000000)),
        (b'\x9c', Prob(0.000000)),
        (b'\x9d', Prob(0.000000)),
        (b'\x9e', Prob(0.000000)),
        (b'\x9f', Prob(0.000000)),
        (b'\xa0', Prob(0.000000)),
        (b'\xa1', Prob(0.000000)),
        (b'\xa2', Prob(0.000000)),
        (b'\xa3', Prob(0.000000)),
        (b'\xa4', Prob(0.000000)),
        (b'\xa5', Prob(0.000000)),
        (b'\xa6', Prob(0.000000)),
        (b'\xa7', Prob(0.000000)),
        (b'\xa8', Prob(0.000000)),
        (b'\xa9', Prob(0.000000)),
        (b'\xaa', Prob(0.000000)),
        (b'\xab', Prob(0.000000)),
        (b'\xac', Prob(0.000000)),
        (b'\xad', Prob(0.000000)),
        (b'\xae', Prob(0.000000)),
        (b'\xaf', Prob(0.000000)),
        (b'\xb0', Prob(0.000000)),
        (b'\xb1', Prob(0.000000)),
        (b'\xb2', Prob(0.000000)),
        (b'\xb3', Prob(0.000000)),
        (b'\xb4', Prob(0.000000)),
        (b'\xb5', Prob(0.000000)),
        (b'\xb6', Prob(0.000000)),
        (b'\xb7', Prob(0.000000)),
        (b'\xb8', Prob(0.000000)),
        (b'\xb9', Prob(0.000000)),
        (b'\xba', Prob(0.000000)),
        (b'\xbb', Prob(0.000000)),
        (b'\xbc', Prob(0.000000)),
        (b'\xbd', Prob(0.000000)),
        (b'\xbe', Prob(0.000000)),
        (b'\xbf', Prob(0.000000)),
        (b'\xc0', Prob(0.000000)),
        (b'\xc1', Prob(0.000000)),
        (b'\xc2', Prob(0.000000)),
        (b'\xc3', Prob(0.000000)),
        (b'\xc4', Prob(0.000000)),
        (b'\xc5', Prob(0.000000)),
        (b'\xc6', Prob(0.000000)),
        (b'\xc7', Prob(0.000000)),
        (b'\xc8', Prob(0.000000)),
        (b'\xc9', Prob(0.000000)),
        (b'\xca', Prob(0.000000)),
        (b'\xcb', Prob(0.000000)),
        (b'\xcc', Prob(0.000000)),
        (b'\xcd', Prob(0.000000)),
        (b'\xce', Prob(0.000000)),
        (b'\xcf', Prob(0.000000)),
        (b'\xd0', Prob(0.000000)),
        (b'\xd1', Prob(0.000000)),
        (b'\xd2', Prob(0.000000)),
        (b'\xd3', Prob(0.000000)),
        (b'\xd4', Prob(0.000000)),
        (b'\xd5', Prob(0.000000)),
        (b'\xd6', Prob(0.000000)),
        (b'\xd7', Prob(0.000000)),
        (b'\xd8', Prob(0.000000)),
        (b'\xd9', Prob(0.000000)),
        (b'\xda', Prob(0.000000)),
        (b'\xdb', Prob(0.000000)),
        (b'\xdc', Prob(0.000000)),
        (b'\xdd', Prob(0.000000)),
        (b'\xde', Prob(0.000000)),
        (b'\xdf', Prob(0.000000)),
        (b'\xe0', Prob(0.000000)),
        (b'\xe1', Prob(0.000000)),
        (b'\xe2', Prob(0.000000)),
        (b'\xe3', Prob(0.000000)),
        (b'\xe4', Prob(0.000000)),
        (b'\xe5', Prob(0.000000)),
        (b'\xe6', Prob(0.000000)),
        (b'\xe7', Prob(0.000000)),
        (b'\xe8', Prob(0.000000)),
        (b'\xe9', Prob(0.000000)),
        (b'\xea', Prob(0.000000)),
        (b'\xeb', Prob(0.000000)),
        (b'\xec', Prob(0.000000)),
        (b'\xed', Prob(0.000000)),
        (b'\xee', Prob(0.000000)),
        (b'\xef', Prob(0.000000)),
        (b'\xf0', Prob(0.000000)),
        (b'\xf1', Prob(0.000000)),
        (b'\xf2', Prob(0.000000)),
        (b'\xf3', Prob(0.000000)),
        (b'\xf4', Prob(0.000000)),
        (b'\xf5', Prob(0.000000)),
        (b'\xf6', Prob(0.000000)),
        (b'\xf7', Prob(0.000000)),
        (b'\xf8', Prob(0.000000)),
        (b'\xf9', Prob(0.000000)),
        (b'\xfa', Prob(0.000000)),
        (b'\xfb', Prob(0.000000)),
        (b'\xfc', Prob(0.000000)),
        (b'\xfd', Prob(0.000000)),
        (b'\xfe', Prob(0.000000)),
        (b'\xff', Prob(0.000000)),
    ];    

    pub const UNIFORM:[(u8,Prob);256] = [
        (b'\x00', Prob(0.003906)),
        (b'\x01', Prob(0.003906)),
        (b'\x02', Prob(0.003906)),
        (b'\x03', Prob(0.003906)),
        (b'\x04', Prob(0.003906)),
        (b'\x05', Prob(0.003906)),
        (b'\x06', Prob(0.003906)),
        (b'\x07', Prob(0.003906)),
        (b'\x08', Prob(0.003906)),
        (b'\x09', Prob(0.003906)),
        (b'\x0a', Prob(0.003906)),
        (b'\x0b', Prob(0.003906)),
        (b'\x0c', Prob(0.003906)),
        (b'\x0d', Prob(0.003906)),
        (b'\x0e', Prob(0.003906)),
        (b'\x0f', Prob(0.003906)),
        (b'\x10', Prob(0.003906)),
        (b'\x11', Prob(0.003906)),
        (b'\x12', Prob(0.003906)),
        (b'\x13', Prob(0.003906)),
        (b'\x14', Prob(0.003906)),
        (b'\x15', Prob(0.003906)),
        (b'\x16', Prob(0.003906)),
        (b'\x17', Prob(0.003906)),
        (b'\x18', Prob(0.003906)),
        (b'\x19', Prob(0.003906)),
        (b'\x1a', Prob(0.003906)),
        (b'\x1b', Prob(0.003906)),
        (b'\x1c', Prob(0.003906)),
        (b'\x1d', Prob(0.003906)),
        (b'\x1e', Prob(0.003906)),
        (b'\x1f', Prob(0.003906)),
        (b'\x20', Prob(0.003906)),
        (b'!', Prob(0.003906)),
        (b'"', Prob(0.003906)),
        (b'#', Prob(0.003906)),
        (b'$', Prob(0.003906)),
        (b'%', Prob(0.003906)),
        (b'&', Prob(0.003906)),
        (b'\x27', Prob(0.003906)),
        (b'(', Prob(0.003906)),
        (b')', Prob(0.003906)),
        (b'*', Prob(0.003906)),
        (b'+', Prob(0.003906)),
        (b',', Prob(0.003906)),
        (b'-', Prob(0.003906)),
        (b'.', Prob(0.003906)),
        (b'/', Prob(0.003906)),
        (b'0', Prob(0.003906)),
        (b'1', Prob(0.003906)),
        (b'2', Prob(0.003906)),
        (b'3', Prob(0.003906)),
        (b'4', Prob(0.003906)),
        (b'5', Prob(0.003906)),
        (b'6', Prob(0.003906)),
        (b'7', Prob(0.003906)),
        (b'8', Prob(0.003906)),
        (b'9', Prob(0.003906)),
        (b':', Prob(0.003906)),
        (b';', Prob(0.003906)),
        (b'<', Prob(0.003906)),
        (b'=', Prob(0.003906)),
        (b'>', Prob(0.003906)),
        (b'?', Prob(0.003906)),
        (b'@', Prob(0.003906)),
        (b'A', Prob(0.003906)),
        (b'B', Prob(0.003906)),
        (b'C', Prob(0.003906)),
        (b'D', Prob(0.003906)),
        (b'E', Prob(0.003906)),
        (b'F', Prob(0.003906)),
        (b'G', Prob(0.003906)),
        (b'H', Prob(0.003906)),
        (b'I', Prob(0.003906)),
        (b'J', Prob(0.003906)),
        (b'K', Prob(0.003906)),
        (b'L', Prob(0.003906)),
        (b'M', Prob(0.003906)),
        (b'N', Prob(0.003906)),
        (b'O', Prob(0.003906)),
        (b'P', Prob(0.003906)),
        (b'Q', Prob(0.003906)),
        (b'R', Prob(0.003906)),
        (b'S', Prob(0.003906)),
        (b'T', Prob(0.003906)),
        (b'U', Prob(0.003906)),
        (b'V', Prob(0.003906)),
        (b'W', Prob(0.003906)),
        (b'X', Prob(0.003906)),
        (b'Y', Prob(0.003906)),
        (b'Z', Prob(0.003906)),
        (b'[', Prob(0.003906)),
        (b'\x5c', Prob(0.003906)),
        (b']', Prob(0.003906)),
        (b'^', Prob(0.003906)),
        (b'_', Prob(0.003906)),
        (b'`', Prob(0.003906)),
        (b'a', Prob(0.003906)),
        (b'b', Prob(0.003906)),
        (b'c', Prob(0.003906)),
        (b'd', Prob(0.003906)),
        (b'e', Prob(0.003906)),
        (b'f', Prob(0.003906)),
        (b'g', Prob(0.003906)),
        (b'h', Prob(0.003906)),
        (b'i', Prob(0.003906)),
        (b'j', Prob(0.003906)),
        (b'k', Prob(0.003906)),
        (b'l', Prob(0.003906)),
        (b'm', Prob(0.003906)),
        (b'n', Prob(0.003906)),
        (b'o', Prob(0.003906)),
        (b'p', Prob(0.003906)),
        (b'q', Prob(0.003906)),
        (b'r', Prob(0.003906)),
        (b's', Prob(0.003906)),
        (b't', Prob(0.003906)),
        (b'u', Prob(0.003906)),
        (b'v', Prob(0.003906)),
        (b'w', Prob(0.003906)),
        (b'x', Prob(0.003906)),
        (b'y', Prob(0.003906)),
        (b'z', Prob(0.003906)),
        (b'{', Prob(0.003906)),
        (b'|', Prob(0.003906)),
        (b'}', Prob(0.003906)),
        (b'~', Prob(0.003906)),
        (b'\x7f', Prob(0.003906)),
        (b'\x80', Prob(0.003906)),
        (b'\x81', Prob(0.003906)),
        (b'\x82', Prob(0.003906)),
        (b'\x83', Prob(0.003906)),
        (b'\x84', Prob(0.003906)),
        (b'\x85', Prob(0.003906)),
        (b'\x86', Prob(0.003906)),
        (b'\x87', Prob(0.003906)),
        (b'\x88', Prob(0.003906)),
        (b'\x89', Prob(0.003906)),
        (b'\x8a', Prob(0.003906)),
        (b'\x8b', Prob(0.003906)),
        (b'\x8c', Prob(0.003906)),
        (b'\x8d', Prob(0.003906)),
        (b'\x8e', Prob(0.003906)),
        (b'\x8f', Prob(0.003906)),
        (b'\x90', Prob(0.003906)),
        (b'\x91', Prob(0.003906)),
        (b'\x92', Prob(0.003906)),
        (b'\x93', Prob(0.003906)),
        (b'\x94', Prob(0.003906)),
        (b'\x95', Prob(0.003906)),
        (b'\x96', Prob(0.003906)),
        (b'\x97', Prob(0.003906)),
        (b'\x98', Prob(0.003906)),
        (b'\x99', Prob(0.003906)),
        (b'\x9a', Prob(0.003906)),
        (b'\x9b', Prob(0.003906)),
        (b'\x9c', Prob(0.003906)),
        (b'\x9d', Prob(0.003906)),
        (b'\x9e', Prob(0.003906)),
        (b'\x9f', Prob(0.003906)),
        (b'\xa0', Prob(0.003906)),
        (b'\xa1', Prob(0.003906)),
        (b'\xa2', Prob(0.003906)),
        (b'\xa3', Prob(0.003906)),
        (b'\xa4', Prob(0.003906)),
        (b'\xa5', Prob(0.003906)),
        (b'\xa6', Prob(0.003906)),
        (b'\xa7', Prob(0.003906)),
        (b'\xa8', Prob(0.003906)),
        (b'\xa9', Prob(0.003906)),
        (b'\xaa', Prob(0.003906)),
        (b'\xab', Prob(0.003906)),
        (b'\xac', Prob(0.003906)),
        (b'\xad', Prob(0.003906)),
        (b'\xae', Prob(0.003906)),
        (b'\xaf', Prob(0.003906)),
        (b'\xb0', Prob(0.003906)),
        (b'\xb1', Prob(0.003906)),
        (b'\xb2', Prob(0.003906)),
        (b'\xb3', Prob(0.003906)),
        (b'\xb4', Prob(0.003906)),
        (b'\xb5', Prob(0.003906)),
        (b'\xb6', Prob(0.003906)),
        (b'\xb7', Prob(0.003906)),
        (b'\xb8', Prob(0.003906)),
        (b'\xb9', Prob(0.003906)),
        (b'\xba', Prob(0.003906)),
        (b'\xbb', Prob(0.003906)),
        (b'\xbc', Prob(0.003906)),
        (b'\xbd', Prob(0.003906)),
        (b'\xbe', Prob(0.003906)),
        (b'\xbf', Prob(0.003906)),
        (b'\xc0', Prob(0.003906)),
        (b'\xc1', Prob(0.003906)),
        (b'\xc2', Prob(0.003906)),
        (b'\xc3', Prob(0.003906)),
        (b'\xc4', Prob(0.003906)),
        (b'\xc5', Prob(0.003906)),
        (b'\xc6', Prob(0.003906)),
        (b'\xc7', Prob(0.003906)),
        (b'\xc8', Prob(0.003906)),
        (b'\xc9', Prob(0.003906)),
        (b'\xca', Prob(0.003906)),
        (b'\xcb', Prob(0.003906)),
        (b'\xcc', Prob(0.003906)),
        (b'\xcd', Prob(0.003906)),
        (b'\xce', Prob(0.003906)),
        (b'\xcf', Prob(0.003906)),
        (b'\xd0', Prob(0.003906)),
        (b'\xd1', Prob(0.003906)),
        (b'\xd2', Prob(0.003906)),
        (b'\xd3', Prob(0.003906)),
        (b'\xd4', Prob(0.003906)),
        (b'\xd5', Prob(0.003906)),
        (b'\xd6', Prob(0.003906)),
        (b'\xd7', Prob(0.003906)),
        (b'\xd8', Prob(0.003906)),
        (b'\xd9', Prob(0.003906)),
        (b'\xda', Prob(0.003906)),
        (b'\xdb', Prob(0.003906)),
        (b'\xdc', Prob(0.003906)),
        (b'\xdd', Prob(0.003906)),
        (b'\xde', Prob(0.003906)),
        (b'\xdf', Prob(0.003906)),
        (b'\xe0', Prob(0.003906)),
        (b'\xe1', Prob(0.003906)),
        (b'\xe2', Prob(0.003906)),
        (b'\xe3', Prob(0.003906)),
        (b'\xe4', Prob(0.003906)),
        (b'\xe5', Prob(0.003906)),
        (b'\xe6', Prob(0.003906)),
        (b'\xe7', Prob(0.003906)),
        (b'\xe8', Prob(0.003906)),
        (b'\xe9', Prob(0.003906)),
        (b'\xea', Prob(0.003906)),
        (b'\xeb', Prob(0.003906)),
        (b'\xec', Prob(0.003906)),
        (b'\xed', Prob(0.003906)),
        (b'\xee', Prob(0.003906)),
        (b'\xef', Prob(0.003906)),
        (b'\xf0', Prob(0.003906)),
        (b'\xf1', Prob(0.003906)),
        (b'\xf2', Prob(0.003906)),
        (b'\xf3', Prob(0.003906)),
        (b'\xf4', Prob(0.003906)),
        (b'\xf5', Prob(0.003906)),
        (b'\xf6', Prob(0.003906)),
        (b'\xf7', Prob(0.003906)),
        (b'\xf8', Prob(0.003906)),
        (b'\xf9', Prob(0.003906)),
        (b'\xfa', Prob(0.003906)),
        (b'\xfb', Prob(0.003906)),
        (b'\xfc', Prob(0.003906)),
        (b'\xfd', Prob(0.003906)),
        (b'\xfe', Prob(0.003906)),
        (b'\xff', Prob(0.003906)),
    ];
}
